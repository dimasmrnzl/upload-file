<!DOCTYPE html><html> <head> <title>File</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"><style> .panel-body{padding-bottom:0}.alert,.progress{margin-bottom:0}</style></head><body> <div class="container"><center> <h1>Upload file</h1><hr></center><div class="row"><div class="col-sm-3"><div class="panel panel-default"><div class="panel-heading">Upload file</div><div class="panel-body"><div class="form-group"><div class="btn btn-default browse">Browse</div>&nbsp;<div class="btn btn-info upload">Upload</div></div><div class="form-group"><div class="progress"><div class="progress-bar progress-upload"></div></div></div><div class="form-group"><div class="alert alert-warning info-file"></div></div></div></div><div class="form-group"><a class="btn btn-warning" href="/logout.php">Keluar</a></div></div><div class="col-sm-9"><table class="table table-bordered"><thead> <tr> <th>Nama file</th><th>Link download</th><th> </th></tr></thead><tbody class="isinya"></tbody></table></div></div></div><script src="/lib/jquery/jquery.min.js"></script><script src="/node_modules/@flowjs/flow.js/dist/flow.min.js"></script><script> var bertahap,flow,kunci,situs,table,total;situs="http://localhost:2020",table=function(t,n,i){return"<tr>\n\t<td>"+n+'</td>\n\t<td>\n\t\t<input class="form-control" readonly value="'+situs+"/file/"+t+"_"+n+'">\n\t</td>\n\t<td>\n\t\t<div class="btn btn-danger hapus" data-id="'+i+'">Hapus</div>\n\t</td>\n</tr>'},$.get("/simpan.php",function(t){var n,i,a,e;for(a="",n=0,i=t.length;n<i;n++)e=t[n],a+=table(e.kunci,e.nama_file,e.id);return $(".isinya").html(a)}),kunci=Math.random().toString().replace("0.",""),flow=new Flow({target:"/upload.php?kunci="+kunci}),flow.assignBrowse($(".browse")),$(".upload").click(function(){return flow.upload()}),total=0,bertahap=0,flow.on("fileAdded",function(t,n){return $(".info-file").html("File telah dipilih"),total=t.size,bertahap=0,$(".progress-upload").css("width","0")}),flow.on("fileSuccess",function(t,n){return $(".info-file").html(n),$.get("/simpan.php?kunci="+kunci+"&nama-file="+t.name,function(t){var n,i,a,e;for(a="",n=0,i=t.length;n<i;n++)e=t[n],a+=table(e.kunci,e.nama_file,e.id);return $(".isinya").html(a)})}),flow.on("fileError",function(t,n){return $(".info-file").html(n)}),flow.on("fileProgress",function(t,n){return bertahap+=t.chunkSize,$(".progress-upload").css("width",bertahap/total*100+"%"),$(".info-file").html("Sedang diupload")}),$(document).on("click",".hapus",function(){if(confirm("Hapus kah?"))return $.get("/hapus.php?id="+$(this).data("id"),function(t){var n,i,a,e;for(a="",n=0,i=t.length;n<i;n++)e=t[n],a+=table(e.kunci,e.nama_file,e.id);return $(".isinya").html(a)})});</script></body></html>